<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <canvas id="map" width="5800" height="780"></canvas>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>
            var canvas = document.getElementById('map');
            var context = canvas.getContext('2d');
            var imageObj = new Image();

            imageObj.onload = function() {
                context.drawImage(imageObj, 0, 0, 5800, 780);
                //context.fillStyle='#FF0000';
                //context.fillRect(100,100,5,5);
            };
            imageObj.src = 'static/dropbox_map.png';


            function draw_point(context, x, y) {
                console.log(x,y);
                context.fillStyle='#FF0000';
                context.fillRect(x,y,5,5);
            }
            function ajax_request() {
                $.get(
                    '/sample_particles',
                    function(data){
                        //context.clear();
                        $.each(data, function(index, value){
                            draw_point(context, value[0], value[1]);
                        });
                    },
                    'json'
                );
            }

            $(function() {
                setInterval(ajax_request, 300);
            });

        </script>
    </body>
<!-- <img src="dropbox_map.png" alt="Map of Dropbox"> -->
</html>
